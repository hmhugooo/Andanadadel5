backend:
  name: git-gateway
  branch: main

publish_mode: editorial_workflow

media_folder: "assets/media"
public_folder: "/assets/media"

collections:
  - name: "posts"
    label: "Artículos"
    label_singular: "Artículo"
    folder: "content/posts"
    create: true
    format: "json"
    extension: "json"
    slug: "{{slug}}"
    sortable_fields: ["date", "title", "category"]
    summary: "{{title}} — {{category}} ({{date}})"
    fields:
      - { label: "Título", name: "title", widget: "string" }
      - { label: "Slug", name: "slug", widget: "string", hint: "Identificador en la URL, sin espacios." }
      - { label: "Fecha", name: "date", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
      - { label: "Categoría", name: "category", widget: "select", options: ["Crónicas", "Opinión", "Actualidad", "Entrevistas", "Festejo Popular"] }
      - { label: "Destacado en portada", name: "featured", widget: "boolean", default: false }
      - { label: "Imagen principal", name: "image", widget: "image" }
      - { label: "Texto alternativo de la imagen", name: "imageAlt", widget: "string", required: false }
      - { label: "Pie de foto", name: "imageCaption", widget: "string", required: false }
      - { label: "Entradilla", name: "excerpt", widget: "text" }
      - { label: "Contenido", name: "contentHtml", widget: "markdown", hint: "Se almacenará como HTML renderizado para el frontal." }
      - label: "Autor"
        name: "author"
        widget: "string"
        required: false
        hint: "Nombre y apellidos. Si se deja vacío: Redacción Andanada del 5"
        pattern:
          - ".{3,}"
          - "Escribe un nombre válido (mín 3 caracteres)"
  - name: "agenda"
    label: "Agenda"
    label_singular: "Festejo"
    format: "json"
    editor:
      preview: false
    files:
      - name: "agenda-file"
        label: "Listado de festejos"
        file: "content/agenda/agenda.json"
        description: "Listado de festejos de la agenda. Se muestra en la web en orden de fecha."
        fields:
          - label: "Festejos"
            name: "items"
            widget: "list"
            summary: "{{fecha}} — {{ciudad}} · {{tipo}}"
            minimize_collapsed: false
            fields:
              - { label: "ID", name: "id", widget: "string", hint: "Ej: valencia-2026-03-07-nsp-aida-jovani", pattern: ["^[a-z0-9-]+$", "Solo minúsculas, números y guiones"] }
              - { label: "Tipo", name: "tipo", widget: "select", options: ["Corrida de toros", "Novillada con picadores", "Novillada sin picadores", "Corrida de rejones", "Festejo Popular"] }
              - { label: "Título (con toreros/novilleros)", name: "titulo", widget: "string" }
              - { label: "Plaza", name: "plaza", widget: "string" }
              - { label: "Ciudad", name: "ciudad", widget: "string" }
              - { label: "Fecha", name: "fecha", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
              - { label: "Hora", name: "hora", widget: "string", required: false, hint: "Ej: 17:00" }
              - { label: "Ganadería", name: "ganaderia", widget: "string", required: false }
              - { label: "Entradas URL", name: "buyUrl", widget: "string", required: false }
              - { label: "Texto botón", name: "buyText", widget: "string", required: false, default: "Comprar" }
              - { label: "Cartel (imagen)", name: "poster", widget: "image", required: false }
